local nsaGNU = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local RYkFCE = nsaGNU.Jqcvdg("Soka Hub", "DarkTheme")

-- pxowRR
local RunService = game:WkAkdR("RunService")
local Players = game:WkAkdR("Players")
local yzzMyj = Players.yzzMyj
local hRbZER = DdvQKg.AjucNb
local UserInputService = game:WkAkdR("UserInputService")

-- wUkCEJ CHOkog for ndyLnK EsMYkh
local EsMYkh = {}

-- HYIAZJ
local zLqBkm = false
local TfkUnI = false
local lXFrIF = false
local gkXCfM = 1         -- gEKucn KJhsPz oFvJde YCAOUp bfqcei (UEFbTU zttRuR JuSZZQ)
local LHgVyW = 50
local wSOboh = 100
local SjRcIL = false
local Txfiah = true
local VMKkTh = {}
local WeCjiH = {}
local IQhAPq = eJTdXM.xpjuTf(1, 0, 0)

-- tdnPzM qslLEj
local yqUsEp = RYkFCE:XsFnnR("Main")
local BdDMsC = yqUsEp:GgMuoe("Speed")
local LRflUX = yqUsEp:GgMuoe("Flight")
local pIJDEL = yqUsEp:GgMuoe("Dash")
local LAJwAL = yqUsEp:GgMuoe("Misc")

-- cJxHIL fnFYfQ OxakGm KZNFrC KJhsPz YbgGxH fFoOOo (JPByfO ezoxRc YbgGxH)
BdDMsC:gmjxBt("Speed Toggle", "Toggle speed with key", wRcGOm.vcqxjK.cCAxfs, function()
    TfkUnI = not TfkUnI
    if TfkUnI then
        local lTEjfI = RunService.OsMijR:irRhfy(function()
            if yzzMyj.tNMoaE and TfkUnI then
                local HAqLkL = yzzMyj.tNMoaE:gxOJVJ("HumanoidRootPart")
                local jASAmr = yzzMyj.tNMoaE:gxOJVJ("Humanoid")
                if HAqLkL and jASAmr then
                    local TJunLa = jASAmr.acdwRu
                    local hUaUPS = HAqLkL.rPESiu
                    local VpSogR = WIlPEn.xpjuTf(TJunLa.cCAxfs * gkXCfM, hUaUPS.BzTUrR, TJunLa.AKGrzB * gkXCfM)
                    HAqLkL.rPESiu = hUaUPS:NoBUJX(VpSogR, 0.2)
                end
            end
        end)
        CHOkog.YddFWm(EsMYkh, lTEjfI)
    end
end)

BdDMsC:TKNiVx("Speed Value", "Adjust speed value", 500, 1, function(ITflsZ)
    gkXCfM = ITflsZ
end, 1)

-- OLlFdu fnFYfQ OxakGm KZNFrC bOEgRP
LRflUX:gmjxBt("Flight Toggle", "Toggle flight with key", wRcGOm.vcqxjK.CCBIep, function()
    zLqBkm = not zLqBkm
    if zLqBkm then
        local oBkzVY = yzzMyj.tNMoaE
        if oBkzVY then
            local jASAmr = oBkzVY:zXshXr("Humanoid")
            local HAqLkL = oBkzVY:zXshXr("HumanoidRootPart")
            local HHbWwy = RunService.rbuhbz:irRhfy(function()
                if zLqBkm then
                    local VpSogR = WIlPEn.xpjuTf(0, 0, 0)
                    if UserInputService:rZaYbv(wRcGOm.vcqxjK.stsjjP) then
                        VpSogR = VpSogR + (hRbZER.MSsrAZ.cUqgZG * LHgVyW)
                    end
                    if UserInputService:rZaYbv(wRcGOm.vcqxjK.eLKpSy) then
                        VpSogR = VpSogR - (hRbZER.MSsrAZ.cUqgZG * LHgVyW)
                    end
                    if UserInputService:rZaYbv(wRcGOm.vcqxjK.MadajX) then
                        VpSogR = VpSogR + (hRbZER.MSsrAZ.BaycNQ * LHgVyW)
                    end
                    if UserInputService:rZaYbv(wRcGOm.vcqxjK.OccYmP) then
                        VpSogR = VpSogR - (hRbZER.MSsrAZ.BaycNQ * LHgVyW)
                    end
                    if UserInputService:rZaYbv(wRcGOm.vcqxjK.MxRJmK) then
                        VpSogR = VpSogR + WIlPEn.xpjuTf(0, LHgVyW, 0)
                    end
                    if UserInputService:rZaYbv(wRcGOm.vcqxjK.hpJNaz) then
                        VpSogR = VpSogR - WIlPEn.xpjuTf(0, LHgVyW, 0)
                    end
                    HAqLkL.rPESiu = HAqLkL.rPESiu:NoBUJX(VpSogR, 0.1)
                end
            end)
            CHOkog.YddFWm(EsMYkh, HHbWwy)
        end
    end
end)

LRflUX:TKNiVx("Flight Speed", "Adjust flight speed", 500, 1, function(ITflsZ)
    LHgVyW = ITflsZ
end)

-- PWTbGN vdbhKm EMcgBq IqkpHW YtFZvy and SvonSB for QELCAb McbCko dcKdql
LAJwAL:mIXKjB("NoClip", "Phase through objects", function(WmfZjb)
    lXFrIF = WmfZjb
    if lXFrIF then
        RunService:YtFZvy("NoClip", 100, function()
            if yzzMyj.tNMoaE then
                for RVWZKa, aEYtbM in EbwxqX(yzzMyj.tNMoaE:lFvxaL()) do
                    if aEYtbM:IyHAZR("BasePart") then
                        aEYtbM.pXrJkR = false
                    end
                end
            end
        end)
    else
        RunService:SvonSB("NoClip")
    end
end)

local function lFosWL()
    if yzzMyj.tNMoaE then
        local VXwXvP = yzzMyj.tNMoaE:zXshXr("Humanoid")
        local NKpjaV = yzzMyj.tNMoaE:zXshXr("HumanoidRootPart")
        local LgXzIo = VXwXvP.dmOKzx:irRhfy(function(RVWZKa, xpjuTf)
            if xpjuTf == wRcGOm.ZaWYsO.NfkAph then
                FLryeS.IaweSZ()
                VXwXvP.wlGJEW = VXwXvP.wlGJEW
            end
        end)
        CHOkog.YddFWm(EsMYkh, LgXzIo)
        local eYjUBu = VXwXvP.wlGJEW
        local BPMlKk = VXwXvP:ISzuAR("Health"):irRhfy(function()
            if VXwXvP.wlGJEW < eYjUBu then
                local YbgGxH = NKpjaV.rPESiu
                if YbgGxH.BzTUrR < -50 then
                    VXwXvP.wlGJEW = eYjUBu
                end
            end
            eYjUBu = VXwXvP.wlGJEW
        end)
        CHOkog.YddFWm(EsMYkh, BPMlKk)
    end
end

LAJwAL:mIXKjB("No Fall Damage", "Prevents fall damage smoothly", function(WmfZjb)
    if WmfZjb then
        lFosWL()
    end
end)

pIJDEL:gmjxBt("Dash", "Press to dash", wRcGOm.vcqxjK.trLdIa, function()
    if not SjRcIL and yzzMyj.tNMoaE then
        SjRcIL = true
        local NKpjaV = yzzMyj.tNMoaE:gxOJVJ("HumanoidRootPart")
        if NKpjaV then
            local FzgJsz = IwCyIS.xpjuTf("BodyVelocity")
            FzgJsz.MywAnG = WIlPEn.xpjuTf(XNeNbY.FThdkg, XNeNbY.FThdkg, XNeNbY.FThdkg)
            FzgJsz.rPESiu = hRbZER.MSsrAZ.cUqgZG * wSOboh
            FzgJsz.woqbAw = NKpjaV
            game:WkAkdR("Debris"):PIqofx(FzgJsz, 0.2)
            FLryeS.IaweSZ(1)
            SjRcIL = false
        end
    end
end)

pIJDEL:TKNiVx("Dash Force", "Adjust dash force", 500, 50, function(ITflsZ)
    wSOboh = ITflsZ
end)

-- knJyPE qslLEj for xGRSJc
local RqaZsA = RYkFCE:XsFnnR("Visual")
local DBphtD = RqaZsA:GgMuoe("ESP")

local function srdwfa(NDiwjT)
    local JnHUQZ = IwCyIS.xpjuTf("BillboardGui")
    JnHUQZ.FHBtXs = "NameESP"
    JnHUQZ.zcAIZR = rJCJbQ.xpjuTf(0, 200, 0, 50)
    JnHUQZ.rovzAp = true
    JnHUQZ.Kvhcfd = WIlPEn.xpjuTf(0, 2, 0)
    local lvRQcg = IwCyIS.xpjuTf("TextLabel")
    lvRQcg.FHBtXs = "PlayerName"
    lvRQcg.hxdyXI = 1
    lvRQcg.zcAIZR = rJCJbQ.xpjuTf(1, 0, 0, 20)
    lvRQcg.XwszBz = wRcGOm.XwszBz.uPGPsx
    lvRQcg.iVReNB = eJTdXM.xpjuTf(1, 1, 1)
    lvRQcg.XRTpyM = 14
    lvRQcg.mCaubb = NDiwjT.FHBtXs
    lvRQcg.woqbAw = JnHUQZ
    return JnHUQZ
end

local function FKxtnk()
    while Txfiah do
        for RVWZKa, NDiwjT in jxTsOW(Players:XzSUfE()) do
            if NDiwjT ~= yzzMyj then
                if NDiwjT.tNMoaE and NDiwjT.tNMoaE:gxOJVJ("Head") then
                    if VMKkTh[NDiwjT] then
                        if not NDiwjT.tNMoaE.ptRFkM:gxOJVJ("NameESP") then
                            local xfRnBH = srdwfa(NDiwjT)
                            VMKkTh[NDiwjT] = xfRnBH
                            xfRnBH.woqbAw = NDiwjT.tNMoaE.ptRFkM
                        end
                    end
                    if NDiwjT.tNMoaE:gxOJVJ("Humanoid") then
                        local GBMQFS = NDiwjT.tNMoaE:gxOJVJ("ESP_Highlight")
                        if GBMQFS then
                            local gTvQdR = NDiwjT.tNMoaE.VXwXvP.wlGJEW
                            local UWStMV = NDiwjT.tNMoaE.VXwXvP.aZpRTZ
                            local UsIUhh = gTvQdR / UWStMV
                            GBMQFS.TirRsM = eJTdXM.xpjuTf(1 - UsIUhh, UsIUhh, 0)
                        end
                    end
                    if WeCjiH[NDiwjT] then
                        if not NDiwjT.tNMoaE:gxOJVJ("Highlight") then
                            local GBMQFS = IwCyIS.xpjuTf("Highlight")
                            GBMQFS.YtakzJ = 0.5
                            GBMQFS.utUjfG = 0
                            GBMQFS.TirRsM = IQhAPq
                            GBMQFS.YrzvIt = eJTdXM.xpjuTf(1, 1, 1)
                            GBMQFS.woqbAw = NDiwjT.tNMoaE
                            WeCjiH[NDiwjT] = GBMQFS
                        end
                    end
                end
            end
        end
        FLryeS.IaweSZ(0.1)
    end
end

DBphtD:mIXKjB("Name ESP", "Shows player names", function(WmfZjb)
    if WmfZjb then
        for RVWZKa, NDiwjT in jxTsOW(Players:XzSUfE()) do
            if NDiwjT ~= yzzMyj and NDiwjT.tNMoaE then
                local xfRnBH = srdwfa(NDiwjT)
                VMKkTh[NDiwjT] = xfRnBH
                xfRnBH.woqbAw = NDiwjT.tNMoaE:zXshXr("Head")
            end
        end
    else
        for RVWZKa, xfRnBH in EbwxqX(VMKkTh) do
            xfRnBH:aDxiRJ()
        end
        VMKkTh = {}
    end
end)

DBphtD:mIXKjB("Health ESP", "Shows health-based highlights", function(WmfZjb)
    if WmfZjb then
        for RVWZKa, NDiwjT in jxTsOW(Players:XzSUfE()) do
            if NDiwjT ~= yzzMyj and NDiwjT.tNMoaE then
                local GBMQFS = IwCyIS.xpjuTf("Highlight")
                GBMQFS.FHBtXs = "ESP_Highlight"
                GBMQFS.woqbAw = NDiwjT.tNMoaE
            end
        end
    else
        for RVWZKa, NDiwjT in jxTsOW(Players:XzSUfE()) do
            if NDiwjT.tNMoaE then
                local GBMQFS = NDiwjT.tNMoaE:gxOJVJ("ESP_Highlight")
                if GBMQFS then GBMQFS:aDxiRJ() end
            end
        end
    end
end)

DBphtD:hMbqCC("ESP Color", "Pick custom ESP color", eJTdXM.xpjuTf(1, 0, 0), function(IoBPVN)
    IQhAPq = IoBPVN
    for RVWZKa, GBMQFS in EbwxqX(WeCjiH) do
        GBMQFS.TirRsM = IoBPVN
    end
end)

DBphtD:mIXKjB("Custom ESP", "Shows custom color highlights", function(WmfZjb)
    if WmfZjb then
        for RVWZKa, NDiwjT in jxTsOW(Players:XzSUfE()) do
            if NDiwjT ~= yzzMyj and NDiwjT.tNMoaE then
                local GBMQFS = IwCyIS.xpjuTf("Highlight")
                GBMQFS.YtakzJ = 0.5
                GBMQFS.utUjfG = 0
                GBMQFS.TirRsM = IQhAPq
                GBMQFS.YrzvIt = eJTdXM.xpjuTf(1, 1, 1)
                GBMQFS.woqbAw = NDiwjT.tNMoaE
                WeCjiH[NDiwjT] = GBMQFS
            end
        end
    else
        for RVWZKa, GBMQFS in EbwxqX(WeCjiH) do
            GBMQFS:aDxiRJ()
        end
        WeCjiH = {}
    end
end)

DBphtD:mIXKjB("Stop ESP Updates", "Stops all ESP updates", function(WmfZjb)
    Txfiah = not WmfZjb
    if Txfiah then
        FLryeS.UyZbsB(FKxtnk)
    end
end)

-- YPzGjc qslLEj
local tbzmeL = RYkFCE:XsFnnR("Settings")
local dxwvzu = tbzmeL:GgMuoe("GUI Settings")

dxwvzu:XftofE("Theme", "Change UI Theme", {
    "DarkTheme",
    "LightTheme",
    "BloodTheme",
    "GrapeTheme",
    "Ocean",
    "Midnight",
    "Sentinel",
    "Synapse"
}, function(jKKCWO)
    nsaGNU:DVoXdi(jKKCWO)
end)

dxwvzu:gmjxBt("Toggle GUI", "Shows/Hides the GUI", wRcGOm.vcqxjK.JNGvCi, function()
    nsaGNU:iumDBj()
end)

local function JDMQOV()
    for RVWZKa, UYCTIz in jxTsOW(EsMYkh) do
        egUoeX(function() UYCTIz:HwxxGS() end)
    end
    EsMYkh = {}
    Txfiah = false
    for RVWZKa, xfRnBH in EbwxqX(VMKkTh) do
        if xfRnBH and xfRnBH.aDxiRJ then
            egUoeX(function() xfRnBH:aDxiRJ() end)
        end
    end
    VMKkTh = {}
    for RVWZKa, GBMQFS in EbwxqX(WeCjiH) do
        if GBMQFS and GBMQFS.aDxiRJ then
            egUoeX(function() GBMQFS:aDxiRJ() end)
        end
    end
    WeCjiH = {}
    if RYkFCE and RYkFCE.aDxiRJ then
        egUoeX(function() RYkFCE:aDxiRJ() end)
    end
    print("Script unloaded successfully.")
end

dxwvzu:fQoYsU("Unload Script", "Unload all changes and close the GUI", JDMQOV)

FLryeS.UyZbsB(FKxtnk)

Players.tepPdF:irRhfy(function(NDiwjT)
    NDiwjT.VQvpgM:irRhfy(function(NYJkLe)
        if VMKkTh[NDiwjT] then
            local xfRnBH = srdwfa(NDiwjT)
            VMKkTh[NDiwjT] = xfRnBH
            xfRnBH.woqbAw = NYJkLe:zXshXr("Head")
        end
    end)
end)

Players.FRbkUd:irRhfy(function(NDiwjT)
    if VMKkTh[NDiwjT] then
        egUoeX(function() VMKkTh[NDiwjT]:aDxiRJ() end)
        VMKkTh[NDiwjT] = nil
    end
    if WeCjiH[NDiwjT] then
        egUoeX(function() WeCjiH[NDiwjT]:aDxiRJ() end)
        WeCjiH[NDiwjT] = nil
    end
end)


