local cZBmBY = jvzorC(bAmdUf:VMMGYY("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local jxCLMq = cZBmBY.eTYdYH("Soka Hub", "DarkTheme")

-- ORQivx
local feWqlF = bAmdUf:mBZKtY("RunService")
local AkqBRJ = bAmdUf:mBZKtY("Players")
local GRQXtQ = AkqBRJ.GRQXtQ
local qAbWfg = uRtunc.lKrsPy
local wBrFAe = bAmdUf:mBZKtY("UserInputService")

-- WwIZxE
local ycWOiz = false
local OXskcQ = false
local QwPKFy = false
local AbFfRq = 16
local NSBffP = 50
local TPhyRD = 100
local fayRXy = false
local KgITlK = true
local KDUuLa = {}
local xvcyny = {}
local JSyPXV = NbgoZs.fxiKuy(1, 0, 0)

-- jfRWLp RFeGgB
local PlHUbD = jxCLMq:KqHHij("Main")
local nPLRxO = PlHUbD:TzhOci("Speed")
local oYXter = PlHUbD:TzhOci("Flight")
local JauEoP = PlHUbD:TzhOci("Dash")
local TPonoK = PlHUbD:TzhOci("Misc")

-- htVfFd zBEAmt HLKHTT CuTZDn
nPLRxO:Wmomzf("Speed Toggle", "Toggle speed with key", vLWpYP.EyWlod.RzOibO, function()
    OXskcQ = not OXskcQ
    if OXskcQ then
        feWqlF.xBUFSM:LhxEJh(function()
            if GRQXtQ.uCXtJl and OXskcQ then
                GRQXtQ.uCXtJl.YwvcYo.SfJcTZ = GRQXtQ.uCXtJl.YwvcYo.SfJcTZ + GRQXtQ.uCXtJl.JidvUJ.IsUhOn * (AbFfRq/50)
            end
        end)
    end
end)

-- htVfFd dlpIRm
nPLRxO:ioRlLE("Speed Value", "Adjust speed value", 500, 16, function(hrtmfp)
    AbFfRq = hrtmfp
end)

-- uPmdxN zBEAmt HLKHTT CuTZDn
oYXter:Wmomzf("Flight Toggle", "Toggle flight with key", vLWpYP.EyWlod.PXxQuM, function()
    ycWOiz = not ycWOiz
    if ycWOiz then
        local cSBNnD = GRQXtQ.uCXtJl
        if cSBNnD then
            local eosnmn = cSBNnD:LtJdDD("Humanoid")
            local XAwRWP = cSBNnD:LtJdDD("HumanoidRootPart")
            
            feWqlF.xJMtDz:LhxEJh(function()
                if ycWOiz then
                    local dLGlbH = wBounM.fxiKuy(0,0,0)
                    if wBrFAe:WnqlPb(vLWpYP.EyWlod.LILZFk) then
                        dLGlbH = dLGlbH + (qAbWfg.SfJcTZ.pYKdAa * NSBffP)
                    end
                    if wBrFAe:WnqlPb(vLWpYP.EyWlod.UbIDmp) then
                        dLGlbH = dLGlbH - (qAbWfg.SfJcTZ.pYKdAa * NSBffP)
                    end
                    if wBrFAe:WnqlPb(vLWpYP.EyWlod.WhaRat) then
                        dLGlbH = dLGlbH + (qAbWfg.SfJcTZ.zMnMBa * NSBffP)
                    end
                    if wBrFAe:WnqlPb(vLWpYP.EyWlod.cQIArT) then
                        dLGlbH = dLGlbH - (qAbWfg.SfJcTZ.zMnMBa * NSBffP)
                    end
                    if wBrFAe:WnqlPb(vLWpYP.EyWlod.DjoHsf) then
                        dLGlbH = dLGlbH + wBounM.fxiKuy(0, NSBffP, 0)
                    end
                    if wBrFAe:WnqlPb(vLWpYP.EyWlod.ZCZxmU) then
                        dLGlbH = dLGlbH - wBounM.fxiKuy(0, NSBffP, 0)
                    end
                    XAwRWP.cuSykD = dLGlbH
                end
            end)
        end
    end
end)

-- uPmdxN htVfFd dlpIRm
oYXter:ioRlLE("Flight Speed", "Adjust flight speed", 200, 1, function(hrtmfp)
    NSBffP = hrtmfp
end)

-- kOhszm EtmDdg
TPonoK:Wmomzf("Toggle NoClip", "Phase through objects", vLWpYP.EyWlod.MqxnSA, function()
    QwPKFy = not QwPKFy
    
    feWqlF:NxBxqX("NoClip", 100, function()
        if QwPKFy and GRQXtQ.uCXtJl then
            for cdpabP, btKXeK in deHlgJ(GRQXtQ.uCXtJl:xoAYHH()) do
                if btKXeK:FiPOIf("BasePart") then
                    btKXeK.MRqCcW = false
                end
            end
        end
    end)
end)

-- kOhszm MFbeNI tXwrnn (uOJsuJ LhxyOY)
local function liStms()
    if GRQXtQ.uCXtJl then
        local JidvUJ = GRQXtQ.uCXtJl:LtJdDD("Humanoid")
        local pkHhVF = GRQXtQ.uCXtJl:LtJdDD("HumanoidRootPart")
        
        -- LRacia LiJveP znEneQ
        JidvUJ.TimYKf:LhxEJh(function(cdpabP, fxiKuy)
            if fxiKuy == vLWpYP.BrsUSo.wjgYpN then
                RGcUyS.GYDNpC()
                JidvUJ.hAsdpm = JidvUJ.hAsdpm
            end
        end)
        
        -- uOJsuJ DbJepo GkANhD
        local UehcoJ = JidvUJ.hAsdpm
        JidvUJ:FGbWXa("Health"):LhxEJh(function()
            if JidvUJ.hAsdpm < UehcoJ then
                local DbJepo = pkHhVF.cuSykD
                if DbJepo.uSOldU < -50 then
                    JidvUJ.hAsdpm = UehcoJ
                end
            end
            UehcoJ = JidvUJ.hAsdpm
        end)
    end
end

TPonoK:bNPXpQ("No Fall Damage", "Prevents fall damage smoothly", function(ijBEaF)
    if ijBEaF then
        liStms()
    end
end)

-- edfRTl CuTZDn
JauEoP:Wmomzf("Dash", "Press to dash", vLWpYP.EyWlod.aYBzyy, function()
    if not fayRXy and GRQXtQ.uCXtJl then
        fayRXy = true
        local pkHhVF = GRQXtQ.uCXtJl:UpDbFJ("HumanoidRootPart")
        if pkHhVF then
            local KNJCRA = NcmjOK.fxiKuy("BodyVelocity")
            KNJCRA.fMAXkT = wBounM.fxiKuy(Ocbasg.OVeDCy, Ocbasg.OVeDCy, Ocbasg.OVeDCy)
            KNJCRA.cuSykD = qAbWfg.SfJcTZ.pYKdAa * TPhyRD
            KNJCRA.FUjjsR = pkHhVF
            bAmdUf:mBZKtY("Debris"):XDPIdi(KNJCRA, 0.2)
            RGcUyS.GYDNpC(1)
            fayRXy = false
        end
    end
end)

-- edfRTl PNmtAK dlpIRm
JauEoP:ioRlLE("Dash Force", "Adjust dash force", 500, 50, function(hrtmfp)
    TPhyRD = hrtmfp
end)

-- dzdBPG RFeGgB
local YBTiZE = jxCLMq:KqHHij("Visual")
local zEkBUE = YBTiZE:TzhOci("ESP")

-- mlQqxn eiUagV rJEdhJ jTGvnP
local function FRHtrV(olEOEK)
    local jkpZez = NcmjOK.fxiKuy("BillboardGui")
    jkpZez.eiUagV = "NameESP"
    jkpZez.cnTNeq = ThFKMa.fxiKuy(0, 200, 0, 50)
    jkpZez.RlaqIZ = true
    jkpZez.qGvyRk = wBounM.fxiKuy(0, 2, 0)
    
    local cEhBpu = NcmjOK.fxiKuy("TextLabel")
    cEhBpu.eiUagV = "PlayerName"
    cEhBpu.rRROAI = 1
    cEhBpu.cnTNeq = ThFKMa.fxiKuy(1, 0, 0, 20)
    cEhBpu.iMlfjU = vLWpYP.iMlfjU.IndmjN
    cEhBpu.GgaKiV = NbgoZs.fxiKuy(1, 1, 1)
    cEhBpu.qoOBsE = 14
    cEhBpu.wLEHna = olEOEK.eiUagV
    cEhBpu.FUjjsR = jkpZez
    
    return jkpZez
end

-- rJEdhJ qPQjhl jTGvnP
local function fgDSnA()
    while KgITlK do
        for cdpabP, olEOEK in DVOlJG(AkqBRJ:QWmlRC()) do
            if olEOEK ~= GRQXtQ then
                if olEOEK.uCXtJl and olEOEK.uCXtJl:UpDbFJ("Head") then
                    if KDUuLa[olEOEK] then
                        if not olEOEK.uCXtJl.CBESya:UpDbFJ("NameESP") then
                            local zaVeOu = FRHtrV(olEOEK)
                            KDUuLa[olEOEK] = zaVeOu
                            zaVeOu.FUjjsR = olEOEK.uCXtJl.CBESya
                        end
                    end
                    
                    if olEOEK.uCXtJl:UpDbFJ("Humanoid") then
                        local BIDtuN = olEOEK.uCXtJl:UpDbFJ("ESP_Highlight")
                        if BIDtuN then
                            local qYnDvR = olEOEK.uCXtJl.JidvUJ.hAsdpm
                            local EgLZdn = olEOEK.uCXtJl.JidvUJ.OzKAxQ
                            local ARpeIJ = qYnDvR/EgLZdn
                            BIDtuN.OiOFqC = NbgoZs.fxiKuy(1-ARpeIJ, ARpeIJ, 0)
                        end
                    end
                    
                    if xvcyny[olEOEK] then
                        if not olEOEK.uCXtJl:UpDbFJ("Highlight") then
                            local BIDtuN = NcmjOK.fxiKuy("Highlight")
                            BIDtuN.QvdTwE = 0.5
                            BIDtuN.EUVrpD = 0
                            BIDtuN.OiOFqC = JSyPXV
                            BIDtuN.AppHIp = NbgoZs.fxiKuy(1, 1, 1)
                            BIDtuN.FUjjsR = olEOEK.uCXtJl
                            xvcyny[olEOEK] = BIDtuN
                        end
                    end
                end
            end
        end
        RGcUyS.GYDNpC(0.1)
    end
end

-- rJEdhJ GYYTsR
zEkBUE:bNPXpQ("Name ESP", "Shows player names", function(ijBEaF)
    if ijBEaF then
        for cdpabP, olEOEK in DVOlJG(AkqBRJ:QWmlRC()) do
            if olEOEK ~= GRQXtQ and olEOEK.uCXtJl then
                local zaVeOu = FRHtrV(olEOEK)
                KDUuLa[olEOEK] = zaVeOu
                zaVeOu.FUjjsR = olEOEK.uCXtJl:LtJdDD("Head")
            end
        end
    else
        for cdpabP, zaVeOu in deHlgJ(KDUuLa) do
            zaVeOu:ILxsTb()
        end
        KDUuLa = {}
    end
end)

zEkBUE:bNPXpQ("Health ESP", "Shows health-based highlights", function(ijBEaF)
    if ijBEaF then
        for cdpabP, olEOEK in DVOlJG(AkqBRJ:QWmlRC()) do
            if olEOEK ~= GRQXtQ and olEOEK.uCXtJl then
                local BIDtuN = NcmjOK.fxiKuy("Highlight")
                BIDtuN.eiUagV = "ESP_Highlight"
                BIDtuN.FUjjsR = olEOEK.uCXtJl
            end
        end
    else
        for cdpabP, olEOEK in DVOlJG(AkqBRJ:QWmlRC()) do
            if olEOEK.uCXtJl then
                local BIDtuN = olEOEK.uCXtJl:UpDbFJ("ESP_Highlight")
                if BIDtuN then BIDtuN:ILxsTb() end
            end
        end
    end
end)

zEkBUE:hZYcrp("ESP Color", "Pick custom ESP color", NbgoZs.fxiKuy(1, 0, 0), function(pseEXG)
    JSyPXV = pseEXG
    for cdpabP, BIDtuN in deHlgJ(xvcyny) do
        BIDtuN.OiOFqC = pseEXG
    end
end)

zEkBUE:bNPXpQ("Custom ESP", "Shows custom color highlights", function(ijBEaF)
    if ijBEaF then
        for cdpabP, olEOEK in DVOlJG(AkqBRJ:QWmlRC()) do
            if olEOEK ~= GRQXtQ and olEOEK.uCXtJl then
                local BIDtuN = NcmjOK.fxiKuy("Highlight")
                BIDtuN.QvdTwE = 0.5
                BIDtuN.EUVrpD = 0
                BIDtuN.OiOFqC = JSyPXV
                BIDtuN.AppHIp = NbgoZs.fxiKuy(1, 1, 1)
                BIDtuN.FUjjsR = olEOEK.uCXtJl
                xvcyny[olEOEK] = BIDtuN
            end
        end
    else
        for cdpabP, BIDtuN in deHlgJ(xvcyny) do
            BIDtuN:ILxsTb()
        end
        xvcyny = {}
    end
end)

zEkBUE:bNPXpQ("Stop ESP Updates", "Stops all ESP updates", function(ijBEaF)
    KgITlK = not ijBEaF
    if KgITlK then
        RGcUyS.rTMqJh(fgDSnA)
    end
end)

-- JRtAxJ RFeGgB
local olCTmy = jxCLMq:KqHHij("Settings")
local eMMNLu = olCTmy:TzhOci("GUI Settings")

eMMNLu:EkYqbb("Theme", "Change UI Theme", {
    "DarkTheme",
    "LightTheme", 
    "BloodTheme",
    "GrapeTheme",
    "Ocean",
    "Midnight",
    "Sentinel",
    "Synapse"
}, function(JXGeRb)
    cZBmBY:bgRYxd(JXGeRb)
end)

eMMNLu:Wmomzf("Toggle GUI", "Shows/Hides the GUI", vLWpYP.EyWlod.yQiujk, function()
    cZBmBY:PBHKiT()
end)

-- FKlkPj rJEdhJ qPQjhl UegsbF
RGcUyS.rTMqJh(fgDSnA)

-- dgyxog kLTnDc
AkqBRJ.smVIBQ:LhxEJh(function(olEOEK)
    olEOEK.wyfltI:LhxEJh(function(gsbJRU)
        if KDUuLa[olEOEK] then
            local zaVeOu = FRHtrV(olEOEK)
            KDUuLa[olEOEK] = zaVeOu
            zaVeOu.FUjjsR = gsbJRU:LtJdDD("Head")
        end
    end)
end)

AkqBRJ.UnocYN:LhxEJh(function(olEOEK)
    if KDUuLa[olEOEK] then
        KDUuLa[olEOEK]:ILxsTb()
        KDUuLa[olEOEK] = nil
    end
    if xvcyny[olEOEK] then
        xvcyny[olEOEK]:ILxsTb()
        xvcyny[olEOEK] = nil
    end
end)


