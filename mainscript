local CNxzcj = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local trkXvk = CNxzcj.RKMHln("Soka Hub", "DarkTheme")

-- ahWeXJ
local RunService = game:Qexdzf("RunService")
local Players = game:Qexdzf("Players")
local SNZXyG = Players.SNZXyG
local EEUoSd = kPSlZw.eJZCug
local UserInputService = game:Qexdzf("UserInputService")

-- KWxhAq IxqZTG for tYrVAo qryYkY
local qryYkY = {}

-- IJOYXK
local WrhofW = false
local eQDVfM = false
local dvocNY = false
local DjobmI = 1         -- qFZezx dMFBwa EUaKTK dEdVcG VGnlGQ (BrGENI VsbagH bzEijj)
local bFMJlk = 50
local YzrlCi = 100
local ZfanKk = false
local Tvhvnq = true
local jKyyVK = {}
local KXtBjj = {}
local VjugEq = xWnEoP.wEEvFQ(1, 0, 0)

-- nTOuIG VnQmpA
local eSNnNo = trkXvk:jnugvZ("Main")
local PfXttw = eSNnNo:mwKZFI("Speed")
local yLVgyc = eSNnNo:mwKZFI("Flight")
local FkFXHv = eSNnNo:mwKZFI("Dash")
local kUWqHY = eSNnNo:mwKZFI("Misc")

-- uDIsZc IXCFwr lgJVAI AYLWKt dMFBwa gkbrbs TkNgXX (DUVanX vbWZNh gkbrbs)
PfXttw:HpUNGd("Speed Toggle", "Toggle speed with key", ruszkD.xhZTEQ.Tgnews, function()
    eQDVfM = not eQDVfM
    if eQDVfM then
        local DNcdOo = RunService.EVTCrv:XfdEad(function()
            if SNZXyG.DIqEyy and eQDVfM then
                local JzaXOE = SNZXyG.DIqEyy:xKpukm("HumanoidRootPart")
                local sRFCbY = SNZXyG.DIqEyy:xKpukm("Humanoid")
                if JzaXOE and sRFCbY then
                    local DBzxyQ = sRFCbY.cdGzJQ
                    local FOJhZR = JzaXOE.FtKNKy
                    local IxjsZj = QVrkgV.wEEvFQ(DBzxyQ.Tgnews * DjobmI, FOJhZR.jZjRtI, DBzxyQ.vVYiRY * DjobmI)
                    JzaXOE.FtKNKy = FOJhZR:dDkWWL(IxjsZj, 0.2)
                end
            end
        end)
        IxqZTG.mHkuCB(qryYkY, DNcdOo)
    end
end)

PfXttw:doxvlw("Speed Value", "Adjust speed value", 500, 1, function(vcNlQf)
    DjobmI = vcNlQf
end, 1)

-- giLSfV IXCFwr lgJVAI AYLWKt yhLCkb
yLVgyc:HpUNGd("Flight Toggle", "Toggle flight with key", ruszkD.xhZTEQ.ytgLMz, function()
    WrhofW = not WrhofW
    if WrhofW then
        local JKRSPR = SNZXyG.DIqEyy
        if JKRSPR then
            local sRFCbY = JKRSPR:oktRlv("Humanoid")
            local JzaXOE = JKRSPR:oktRlv("HumanoidRootPart")
            local nZMXSv = RunService.cJrmTN:XfdEad(function()
                if WrhofW then
                    local IxjsZj = QVrkgV.wEEvFQ(0, 0, 0)
                    if UserInputService:TPzieK(ruszkD.xhZTEQ.sIXhFL) then
                        IxjsZj = IxjsZj + (EEUoSd.VeGwUn.qaxIqI * bFMJlk)
                    end
                    if UserInputService:TPzieK(ruszkD.xhZTEQ.jDYAvQ) then
                        IxjsZj = IxjsZj - (EEUoSd.VeGwUn.qaxIqI * bFMJlk)
                    end
                    if UserInputService:TPzieK(ruszkD.xhZTEQ.IYmkvH) then
                        IxjsZj = IxjsZj + (EEUoSd.VeGwUn.cVIIPO * bFMJlk)
                    end
                    if UserInputService:TPzieK(ruszkD.xhZTEQ.IyBJML) then
                        IxjsZj = IxjsZj - (EEUoSd.VeGwUn.cVIIPO * bFMJlk)
                    end
                    if UserInputService:TPzieK(ruszkD.xhZTEQ.Zuketf) then
                        IxjsZj = IxjsZj + QVrkgV.wEEvFQ(0, bFMJlk, 0)
                    end
                    if UserInputService:TPzieK(ruszkD.xhZTEQ.QWwzDw) then
                        IxjsZj = IxjsZj - QVrkgV.wEEvFQ(0, bFMJlk, 0)
                    end
                    JzaXOE.FtKNKy = JzaXOE.FtKNKy:dDkWWL(IxjsZj, 0.1)
                end
            end)
            IxqZTG.mHkuCB(qryYkY, nZMXSv)
        end
    end
end)

yLVgyc:doxvlw("Flight Speed", "Adjust flight speed", 500, 1, function(vcNlQf)
    bFMJlk = vcNlQf
end)

-- ocHbNT GhAcEo sEHNpy HqfHyP MkwSUP and EJmSde for AeKSGC DwbWxN IGFhAl
kUWqHY:vPpcWx("NoClip", "Phase through objects", function(aRmzlY)
    dvocNY = aRmzlY
    if dvocNY then
        RunService:MkwSUP("NoClip", 100, function()
            if SNZXyG.DIqEyy then
                for nRQhZL, QsDWLI in rTidHP(SNZXyG.DIqEyy:GZUQzW()) do
                    if QsDWLI:MbNRIB("BasePart") then
                        QsDWLI.BBCkKJ = false
                    end
                end
            end
        end)
    else
        RunService:EJmSde("NoClip")
    end
end)

local function yfSobd()
    if SNZXyG.DIqEyy then
        local MaQZWb = SNZXyG.DIqEyy:oktRlv("Humanoid")
        local eZzvBk = SNZXyG.DIqEyy:oktRlv("HumanoidRootPart")
        local PSiGZD = MaQZWb.IKdykM:XfdEad(function(nRQhZL, wEEvFQ)
            if wEEvFQ == ruszkD.gwcHHc.UnvTxY then
                UVDMVH.kdHddg()
                MaQZWb.hwUJil = MaQZWb.hwUJil
            end
        end)
        IxqZTG.mHkuCB(qryYkY, PSiGZD)
        local NQDwVh = MaQZWb.hwUJil
        local Qdhmod = MaQZWb:jmTBvY("Health"):XfdEad(function()
            if MaQZWb.hwUJil < NQDwVh then
                local gkbrbs = eZzvBk.FtKNKy
                if gkbrbs.jZjRtI < -50 then
                    MaQZWb.hwUJil = NQDwVh
                end
            end
            NQDwVh = MaQZWb.hwUJil
        end)
        IxqZTG.mHkuCB(qryYkY, Qdhmod)
    end
end

kUWqHY:vPpcWx("No Fall Damage", "Prevents fall damage smoothly", function(aRmzlY)
    if aRmzlY then
        yfSobd()
    end
end)

FkFXHv:HpUNGd("Dash", "Press to dash", ruszkD.xhZTEQ.MeNOuF, function()
    if not ZfanKk and SNZXyG.DIqEyy then
        ZfanKk = true
        local eZzvBk = SNZXyG.DIqEyy:xKpukm("HumanoidRootPart")
        if eZzvBk then
            local Odbrjf = VxzSkM.wEEvFQ("BodyVelocity")
            Odbrjf.QiTsFM = QVrkgV.wEEvFQ(UZMIKQ.OeCQBX, UZMIKQ.OeCQBX, UZMIKQ.OeCQBX)
            Odbrjf.FtKNKy = EEUoSd.VeGwUn.qaxIqI * YzrlCi
            Odbrjf.asHhsF = eZzvBk
            game:Qexdzf("Debris"):FdQBkh(Odbrjf, 0.2)
            UVDMVH.kdHddg(1)
            ZfanKk = false
        end
    end
end)

FkFXHv:doxvlw("Dash Force", "Adjust dash force", 500, 50, function(vcNlQf)
    YzrlCi = vcNlQf
end)

-- YpyQOj VnQmpA for mAqjVh
local CWUSuH = trkXvk:jnugvZ("Visual")
local chmMGs = CWUSuH:mwKZFI("ESP")

local function hhXiEB(ggiDHL)
    local RkQStB = VxzSkM.wEEvFQ("BillboardGui")
    RkQStB.EHXQEK = "NameESP"
    RkQStB.XmcMib = QcXOVS.wEEvFQ(0, 200, 0, 50)
    RkQStB.nvHEHi = true
    RkQStB.roUUWi = QVrkgV.wEEvFQ(0, 2, 0)
    local gdRsAO = VxzSkM.wEEvFQ("TextLabel")
    gdRsAO.EHXQEK = "PlayerName"
    gdRsAO.Pmerme = 1
    gdRsAO.XmcMib = QcXOVS.wEEvFQ(1, 0, 0, 20)
    gdRsAO.SlXfoA = ruszkD.SlXfoA.gthUod
    gdRsAO.pFWvQF = xWnEoP.wEEvFQ(1, 1, 1)
    gdRsAO.mCOFWm = 14
    gdRsAO.xLWqXl = ggiDHL.EHXQEK
    gdRsAO.asHhsF = RkQStB
    return RkQStB
end

local function SHrPZb()
    while Tvhvnq do
        for nRQhZL, ggiDHL in HjFBod(Players:WnmJVw()) do
            if ggiDHL ~= SNZXyG then
                if ggiDHL.DIqEyy and ggiDHL.DIqEyy:xKpukm("Head") then
                    if jKyyVK[ggiDHL] then
                        if not ggiDHL.DIqEyy.XwYOkB:xKpukm("NameESP") then
                            local VwOGxr = hhXiEB(ggiDHL)
                            jKyyVK[ggiDHL] = VwOGxr
                            VwOGxr.asHhsF = ggiDHL.DIqEyy.XwYOkB
                        end
                    end
                    if ggiDHL.DIqEyy:xKpukm("Humanoid") then
                        local EILBUo = ggiDHL.DIqEyy:xKpukm("ESP_Highlight")
                        if EILBUo then
                            local pOGBdC = ggiDHL.DIqEyy.MaQZWb.hwUJil
                            local LfRypB = ggiDHL.DIqEyy.MaQZWb.EcCCEp
                            local JCvLuh = pOGBdC / LfRypB
                            EILBUo.dNVvnD = xWnEoP.wEEvFQ(1 - JCvLuh, JCvLuh, 0)
                        end
                    end
                    if KXtBjj[ggiDHL] then
                        if not ggiDHL.DIqEyy:xKpukm("Highlight") then
                            local EILBUo = VxzSkM.wEEvFQ("Highlight")
                            EILBUo.QvCfJd = 0.5
                            EILBUo.zvznYU = 0
                            EILBUo.dNVvnD = VjugEq
                            EILBUo.WpOlOf = xWnEoP.wEEvFQ(1, 1, 1)
                            EILBUo.asHhsF = ggiDHL.DIqEyy
                            KXtBjj[ggiDHL] = EILBUo
                        end
                    end
                end
            end
        end
        UVDMVH.kdHddg(0.1)
    end
end

chmMGs:vPpcWx("Name ESP", "Shows player names", function(aRmzlY)
    if aRmzlY then
        for nRQhZL, ggiDHL in HjFBod(Players:WnmJVw()) do
            if ggiDHL ~= SNZXyG and ggiDHL.DIqEyy then
                local VwOGxr = hhXiEB(ggiDHL)
                jKyyVK[ggiDHL] = VwOGxr
                VwOGxr.asHhsF = ggiDHL.DIqEyy:oktRlv("Head")
            end
        end
    else
        for nRQhZL, VwOGxr in rTidHP(jKyyVK) do
            VwOGxr:NWriSe()
        end
        jKyyVK = {}
    end
end)

chmMGs:vPpcWx("Health ESP", "Shows health-based highlights", function(aRmzlY)
    if aRmzlY then
        for nRQhZL, ggiDHL in HjFBod(Players:WnmJVw()) do
            if ggiDHL ~= SNZXyG and ggiDHL.DIqEyy then
                local EILBUo = VxzSkM.wEEvFQ("Highlight")
                EILBUo.EHXQEK = "ESP_Highlight"
                EILBUo.asHhsF = ggiDHL.DIqEyy
            end
        end
    else
        for nRQhZL, ggiDHL in HjFBod(Players:WnmJVw()) do
            if ggiDHL.DIqEyy then
                local EILBUo = ggiDHL.DIqEyy:xKpukm("ESP_Highlight")
                if EILBUo then EILBUo:NWriSe() end
            end
        end
    end
end)

chmMGs:sTWZDE("ESP Color", "Pick custom ESP color", xWnEoP.wEEvFQ(1, 0, 0), function(zkWiov)
    VjugEq = zkWiov
    for nRQhZL, EILBUo in rTidHP(KXtBjj) do
        EILBUo.dNVvnD = zkWiov
    end
end)

chmMGs:vPpcWx("Custom ESP", "Shows custom color highlights", function(aRmzlY)
    if aRmzlY then
        for nRQhZL, ggiDHL in HjFBod(Players:WnmJVw()) do
            if ggiDHL ~= SNZXyG and ggiDHL.DIqEyy then
                local EILBUo = VxzSkM.wEEvFQ("Highlight")
                EILBUo.QvCfJd = 0.5
                EILBUo.zvznYU = 0
                EILBUo.dNVvnD = VjugEq
                EILBUo.WpOlOf = xWnEoP.wEEvFQ(1, 1, 1)
                EILBUo.asHhsF = ggiDHL.DIqEyy
                KXtBjj[ggiDHL] = EILBUo
            end
        end
    else
        for nRQhZL, EILBUo in rTidHP(KXtBjj) do
            EILBUo:NWriSe()
        end
        KXtBjj = {}
    end
end)

chmMGs:vPpcWx("Stop ESP Updates", "Stops all ESP updates", function(aRmzlY)
    Tvhvnq = not aRmzlY
    if Tvhvnq then
        UVDMVH.fqNoKN(SHrPZb)
    end
end)

-- VtOkof VnQmpA
local uPGwKt = trkXvk:jnugvZ("Settings")
local vzEXMH = uPGwKt:mwKZFI("GUI Settings")

vzEXMH:yCFxAj("Theme", "Change UI Theme", {
    "DarkTheme",
    "LightTheme",
    "BloodTheme",
    "GrapeTheme",
    "Ocean",
    "Midnight",
    "Sentinel",
    "Synapse"
}, function(lTYSfV)
    CNxzcj:HGVoCk(lTYSfV)
end)

vzEXMH:HpUNGd("Toggle GUI", "Shows/Hides the GUI", ruszkD.xhZTEQ.dUVSHJ, function()
    CNxzcj:KRxnxy()
end)

local function IRKBlo()
    for nRQhZL, yWmowx in HjFBod(qryYkY) do
        LYSgap(function() yWmowx:AGxLMv() end)
    end
    qryYkY = {}
    Tvhvnq = false
    for nRQhZL, VwOGxr in rTidHP(jKyyVK) do
        if VwOGxr and VwOGxr.NWriSe then
            LYSgap(function() VwOGxr:NWriSe() end)
        end
    end
    jKyyVK = {}
    for nRQhZL, EILBUo in rTidHP(KXtBjj) do
        if EILBUo and EILBUo.NWriSe then
            LYSgap(function() EILBUo:NWriSe() end)
        end
    end
    KXtBjj = {}
    if trkXvk and trkXvk.NWriSe then
        LYSgap(function() trkXvk:NWriSe() end)
    end
    print("Script unloaded successfully.")
end

vzEXMH:IkrsLu("Unload Script", "Unload all changes and close the GUI", IRKBlo)

UVDMVH.fqNoKN(SHrPZb)

Players.GQjeFz:XfdEad(function(ggiDHL)
    ggiDHL.iIvimy:XfdEad(function(zvjfad)
        if jKyyVK[ggiDHL] then
            local VwOGxr = hhXiEB(ggiDHL)
            jKyyVK[ggiDHL] = VwOGxr
            VwOGxr.asHhsF = zvjfad:oktRlv("Head")
        end
    end)
end)

Players.BxRriN:XfdEad(function(ggiDHL)
    if jKyyVK[ggiDHL] then
        LYSgap(function() jKyyVK[ggiDHL]:NWriSe() end)
        jKyyVK[ggiDHL] = nil
    end
    if KXtBjj[ggiDHL] then
        LYSgap(function() KXtBjj[ggiDHL]:NWriSe() end)
        KXtBjj[ggiDHL] = nil
    end
end)


