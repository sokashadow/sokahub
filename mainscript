local XYOXEy = aCiBet(HKBQqc:DdxoLd("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local CxmMnE = XYOXEy.XSRlhE("Soka Hub", "DarkTheme")

-- bDBUQZ
local DVMFsD = HKBQqc:UaGLwW("RunService")
local WcYziu = HKBQqc:UaGLwW("Players")
local MjsDhl = WcYziu.MjsDhl
local ADUGaH = eciVZJ.ioaxnn
local CdeLfH = HKBQqc:UaGLwW("UserInputService")

-- xiTfAS
local qrplTK = false
local QOQkyb = false
local VDtCsZ = false
local NUEalG = 16
local TbgUPN = 50
local dGsnWf = 100
local IhKYcZ = false
local iglOpt = true
local rVunaS = {}
local GfUxsW = {}
local YgdVGf = xBMbTc.lHYnLX(1, 0, 0)

-- aJvvQa LMTutp
local VLXBYH = CxmMnE:xufPSq("Main")
local SeECsG = VLXBYH:zTRJnh("Speed")
local nYlCgc = VLXBYH:zTRJnh("Flight")
local ZqtqiG = VLXBYH:zTRJnh("Dash")
local hZZRSI = VLXBYH:zTRJnh("Misc")

-- VlDqwp XnvbSM SUlNcm ZMgkAl
SeECsG:aqjaGd("Speed Toggle", "Toggle speed with key", gefiln.rgOruw.EvBTtg, function()
    QOQkyb = not QOQkyb
    if QOQkyb then
        DVMFsD.HCRkKm:NFUvTf(function()
            if MjsDhl.ivbWgg and QOQkyb then
                MjsDhl.ivbWgg.baYzBN.cOBdSn = MjsDhl.ivbWgg.baYzBN.cOBdSn + MjsDhl.ivbWgg.XIquto.wIZpBH * (NUEalG/50)
            end
        end)
    end
end)

-- VlDqwp xFiwpA
SeECsG:sZXnIk("Speed Value", "Adjust speed value", 500, 16, function(tnukoo)
    NUEalG = tnukoo
end)

-- dfmAlZ XnvbSM SUlNcm ZMgkAl
nYlCgc:aqjaGd("Flight Toggle", "Toggle flight with key", gefiln.rgOruw.TbGyCX, function()
    qrplTK = not qrplTK
    if qrplTK then
        local wbTNwW = MjsDhl.ivbWgg
        if wbTNwW then
            local PoMBxN = wbTNwW:XcWSeY("Humanoid")
            local PIaHFG = wbTNwW:XcWSeY("HumanoidRootPart")
            
            DVMFsD.ujNnhr:NFUvTf(function()
                if qrplTK then
                    local VvMwnj = onztzE.lHYnLX(0,0,0)
                    if CdeLfH:jejbpw(gefiln.rgOruw.tAxESG) then
                        VvMwnj = VvMwnj + (ADUGaH.cOBdSn.XfKisa * TbgUPN)
                    end
                    if CdeLfH:jejbpw(gefiln.rgOruw.ZfVcWo) then
                        VvMwnj = VvMwnj - (ADUGaH.cOBdSn.XfKisa * TbgUPN)
                    end
                    if CdeLfH:jejbpw(gefiln.rgOruw.wxieEZ) then
                        VvMwnj = VvMwnj + (ADUGaH.cOBdSn.ZfbjWO * TbgUPN)
                    end
                    if CdeLfH:jejbpw(gefiln.rgOruw.DQuOvx) then
                        VvMwnj = VvMwnj - (ADUGaH.cOBdSn.ZfbjWO * TbgUPN)
                    end
                    if CdeLfH:jejbpw(gefiln.rgOruw.phJYtx) then
                        VvMwnj = VvMwnj + onztzE.lHYnLX(0, TbgUPN, 0)
                    end
                    if CdeLfH:jejbpw(gefiln.rgOruw.CgptQA) then
                        VvMwnj = VvMwnj - onztzE.lHYnLX(0, TbgUPN, 0)
                    end
                    PIaHFG.jUZVfK = VvMwnj
                end
            end)
        end
    end
end)

-- dfmAlZ VlDqwp xFiwpA
nYlCgc:sZXnIk("Flight Speed", "Adjust flight speed", 200, 1, function(tnukoo)
    TbgUPN = tnukoo
end)

-- VyXopo pYkVOs
hZZRSI:aqjaGd("Toggle NoClip", "Phase through objects", gefiln.rgOruw.xPcSHm, function()
    VDtCsZ = not VDtCsZ
    
    DVMFsD:ocLOAB("NoClip", 100, function()
        if VDtCsZ and MjsDhl.ivbWgg then
            for ZEQNFW, CMDEXU in SvBZtj(MjsDhl.ivbWgg:CBAPTo()) do
                if CMDEXU:ooSWei("BasePart") then
                    CMDEXU.uvpSiR = false
                end
            end
        end
    end)
end)

-- VyXopo UbTMZR pyyvtA (tdNFdt HkOsdz)
local function lNXcly()
    if MjsDhl.ivbWgg then
        local XIquto = MjsDhl.ivbWgg:XcWSeY("Humanoid")
        local XlSXNJ = MjsDhl.ivbWgg:XcWSeY("HumanoidRootPart")
        
        -- xWXkHB IFlorJ jUowPM
        XIquto.pIhido:NFUvTf(function(ZEQNFW, lHYnLX)
            if lHYnLX == gefiln.IXMjvn.qhWOfR then
                HIFfLR.doIhBR()
                XIquto.ktpZIf = XIquto.ktpZIf
            end
        end)
        
        -- tdNFdt eUNtqK URUmKP
        local mvVxAN = XIquto.ktpZIf
        XIquto:cEgYmh("Health"):NFUvTf(function()
            if XIquto.ktpZIf < mvVxAN then
                local eUNtqK = XlSXNJ.jUZVfK
                if eUNtqK.xxBjrH < -50 then
                    XIquto.ktpZIf = mvVxAN
                end
            end
            mvVxAN = XIquto.ktpZIf
        end)
    end
end

hZZRSI:nfdNzS("No Fall Damage", "Prevents fall damage smoothly", function(kJgFwE)
    if kJgFwE then
        lNXcly()
    end
end)

-- LILLjP ZMgkAl
ZqtqiG:aqjaGd("Dash", "Press to dash", gefiln.rgOruw.aUEjmG, function()
    if not IhKYcZ and MjsDhl.ivbWgg then
        IhKYcZ = true
        local XlSXNJ = MjsDhl.ivbWgg:jgirNa("HumanoidRootPart")
        if XlSXNJ then
            local flzAMN = POVILw.lHYnLX("BodyVelocity")
            flzAMN.sPsjaL = onztzE.lHYnLX(MDKPyD.omBGPt, MDKPyD.omBGPt, MDKPyD.omBGPt)
            flzAMN.jUZVfK = ADUGaH.cOBdSn.XfKisa * dGsnWf
            flzAMN.uyZVBV = XlSXNJ
            HKBQqc:UaGLwW("Debris"):JQOZGx(flzAMN, 0.2)
            HIFfLR.doIhBR(1)
            IhKYcZ = false
        end
    end
end)

-- LILLjP gOeywv xFiwpA
ZqtqiG:sZXnIk("Dash Force", "Adjust dash force", 500, 50, function(tnukoo)
    dGsnWf = tnukoo
end)

-- KoUoho LMTutp
local fAEctK = CxmMnE:xufPSq("Visual")
local TXnxaU = fAEctK:zTRJnh("ESP")

-- bJFinx BlIXBu KvrLjk zGgfhr
local function htbsFj(HRGITy)
    local gyqLAd = POVILw.lHYnLX("BillboardGui")
    gyqLAd.BlIXBu = "NameESP"
    gyqLAd.JYcLGP = NBFMAj.lHYnLX(0, 200, 0, 50)
    gyqLAd.rXqmre = true
    gyqLAd.YYAAIc = onztzE.lHYnLX(0, 2, 0)
    
    local DAnDon = POVILw.lHYnLX("TextLabel")
    DAnDon.BlIXBu = "PlayerName"
    DAnDon.nrHWbc = 1
    DAnDon.JYcLGP = NBFMAj.lHYnLX(1, 0, 0, 20)
    DAnDon.KZlIQK = gefiln.KZlIQK.yBcwZr
    DAnDon.XPXOwf = xBMbTc.lHYnLX(1, 1, 1)
    DAnDon.tXTgPp = 14
    DAnDon.GMpQSG = HRGITy.BlIXBu
    DAnDon.uyZVBV = gyqLAd
    
    return gyqLAd
end

-- KvrLjk xqTZSw zGgfhr
local function CfdvbT()
    while iglOpt do
        for ZEQNFW, HRGITy in wcfpbz(WcYziu:tBinWw()) do
            if HRGITy ~= MjsDhl then
                if HRGITy.ivbWgg and HRGITy.ivbWgg:jgirNa("Head") then
                    if rVunaS[HRGITy] then
                        if not HRGITy.ivbWgg.BdgouI:jgirNa("NameESP") then
                            local nEHeXj = htbsFj(HRGITy)
                            rVunaS[HRGITy] = nEHeXj
                            nEHeXj.uyZVBV = HRGITy.ivbWgg.BdgouI
                        end
                    end
                    
                    if HRGITy.ivbWgg:jgirNa("Humanoid") then
                        local WLZVyW = HRGITy.ivbWgg:jgirNa("ESP_Highlight")
                        if WLZVyW then
                            local wSPeCn = HRGITy.ivbWgg.XIquto.ktpZIf
                            local swZStZ = HRGITy.ivbWgg.XIquto.sDmxZX
                            local hQXkrZ = wSPeCn/swZStZ
                            WLZVyW.NvQtnN = xBMbTc.lHYnLX(1-hQXkrZ, hQXkrZ, 0)
                        end
                    end
                    
                    if GfUxsW[HRGITy] then
                        if not HRGITy.ivbWgg:jgirNa("Highlight") then
                            local WLZVyW = POVILw.lHYnLX("Highlight")
                            WLZVyW.DXZkGM = 0.5
                            WLZVyW.tuufWE = 0
                            WLZVyW.NvQtnN = YgdVGf
                            WLZVyW.EhSLxe = xBMbTc.lHYnLX(1, 1, 1)
                            WLZVyW.uyZVBV = HRGITy.ivbWgg
                            GfUxsW[HRGITy] = WLZVyW
                        end
                    end
                end
            end
        end
        HIFfLR.doIhBR(0.1)
    end
end

-- KvrLjk mhQPsy
TXnxaU:nfdNzS("Name ESP", "Shows player names", function(kJgFwE)
    if kJgFwE then
        for ZEQNFW, HRGITy in wcfpbz(WcYziu:tBinWw()) do
            if HRGITy ~= MjsDhl and HRGITy.ivbWgg then
                local nEHeXj = htbsFj(HRGITy)
                rVunaS[HRGITy] = nEHeXj
                nEHeXj.uyZVBV = HRGITy.ivbWgg:XcWSeY("Head")
            end
        end
    else
        for ZEQNFW, nEHeXj in SvBZtj(rVunaS) do
            nEHeXj:lNuORt()
        end
        rVunaS = {}
    end
end)

TXnxaU:nfdNzS("Health ESP", "Shows health-based highlights", function(kJgFwE)
    if kJgFwE then
        for ZEQNFW, HRGITy in wcfpbz(WcYziu:tBinWw()) do
            if HRGITy ~= MjsDhl and HRGITy.ivbWgg then
                local WLZVyW = POVILw.lHYnLX("Highlight")
                WLZVyW.BlIXBu = "ESP_Highlight"
                WLZVyW.uyZVBV = HRGITy.ivbWgg
            end
        end
    else
        for ZEQNFW, HRGITy in wcfpbz(WcYziu:tBinWw()) do
            if HRGITy.ivbWgg then
                local WLZVyW = HRGITy.ivbWgg:jgirNa("ESP_Highlight")
                if WLZVyW then WLZVyW:lNuORt() end
            end
        end
    end
end)

TXnxaU:iEXdlC("ESP Color", "Pick custom ESP color", xBMbTc.lHYnLX(1, 0, 0), function(YsNrBt)
    YgdVGf = YsNrBt
    for ZEQNFW, WLZVyW in SvBZtj(GfUxsW) do
        WLZVyW.NvQtnN = YsNrBt
    end
end)

TXnxaU:nfdNzS("Custom ESP", "Shows custom color highlights", function(kJgFwE)
    if kJgFwE then
        for ZEQNFW, HRGITy in wcfpbz(WcYziu:tBinWw()) do
            if HRGITy ~= MjsDhl and HRGITy.ivbWgg then
                local WLZVyW = POVILw.lHYnLX("Highlight")
                WLZVyW.DXZkGM = 0.5
                WLZVyW.tuufWE = 0
                WLZVyW.NvQtnN = YgdVGf
                WLZVyW.EhSLxe = xBMbTc.lHYnLX(1, 1, 1)
                WLZVyW.uyZVBV = HRGITy.ivbWgg
                GfUxsW[HRGITy] = WLZVyW
            end
        end
    else
        for ZEQNFW, WLZVyW in SvBZtj(GfUxsW) do
            WLZVyW:lNuORt()
        end
        GfUxsW = {}
    end
end)

TXnxaU:nfdNzS("Stop ESP Updates", "Stops all ESP updates", function(kJgFwE)
    iglOpt = not kJgFwE
    if iglOpt then
        HIFfLR.HUzxeG(CfdvbT)
    end
end)

-- avgGTq LMTutp
local ZhhJpA = CxmMnE:xufPSq("Settings")
local ckEuqt = ZhhJpA:zTRJnh("GUI Settings")

ckEuqt:qHjSxV("Theme", "Change UI Theme", {
    "DarkTheme",
    "LightTheme", 
    "BloodTheme",
    "GrapeTheme",
    "Ocean",
    "Midnight",
    "Sentinel",
    "Synapse"
}, function(ftnGNy)
    XYOXEy:SqveYL(ftnGNy)
end)

ckEuqt:aqjaGd("Toggle GUI", "Shows/Hides the GUI", gefiln.rgOruw.wjuJhx, function()
    XYOXEy:rmTMrb()
end)

-- mIGUBL KvrLjk xqTZSw KpIJTD
HIFfLR.HUzxeG(CfdvbT)

-- efuyLh saBktX
WcYziu.dkLDRj:NFUvTf(function(HRGITy)
    HRGITy.ShpbMO:NFUvTf(function(FhMvnr)
        if rVunaS[HRGITy] then
            local nEHeXj = htbsFj(HRGITy)
            rVunaS[HRGITy] = nEHeXj
            nEHeXj.uyZVBV = FhMvnr:XcWSeY("Head")
        end
    end)
end)

WcYziu.mhxyLw:NFUvTf(function(HRGITy)
    if rVunaS[HRGITy] then
        rVunaS[HRGITy]:lNuORt()
        rVunaS[HRGITy] = nil
    end
    if GfUxsW[HRGITy] then
        GfUxsW[HRGITy]:lNuORt()
        GfUxsW[HRGITy] = nil
    end
end)


