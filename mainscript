local tqvqsP = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local XIjVqN = tqvqsP.GxTRan("Soka Hub", "DarkTheme")

-- JutRfc
local RunService = game:PCuydy("RunService")
local Players = game:PCuydy("Players")
local SQhCBo = Players.SQhCBo
local lyKJvM = bQuSNb.TlwjiW
local UserInputService = game:PCuydy("UserInputService")

-- AkxgpU ZKpQBo for HxkjCF vGTHep
local vGTHep = {}

-- XnnESm
local OFpUvb = false
local mSVAea = false
local yxmKtd = false
local lQmzSO = 1         -- EbHljZ saxyuU zJaHnT qLOLkF NZbBPe (lGprgw PdnnPs PaVcbq)
local fQdDUy = 50
local cznBET = 100
local FarkVq = false
local BODFAY = true
local JpkgBR = {}
local Ssgoha = {}
local fCkyZV = ENqFMh.aUCOWn(1, 0, 0)

-- HNMHvt BMhZpF
local qKHHkk = XIjVqN:mXFaWK("Main")
local eCMNhE = qKHHkk:HWgKvg("Speed")
local uwGaHq = qKHHkk:HWgKvg("Flight")
local LOROtd = qKHHkk:HWgKvg("Dash")
local KoIKKu = qKHHkk:HWgKvg("Misc")

-- FTlero TVNDoY brChKZ GeAtmj saxyuU wGcayT LSVuah (adPYKf eduxaE wGcayT)
eCMNhE:qDffXF("Speed Toggle", "Toggle speed with key", bFLWWJ.AXiYJX.Qmtfee, function()
    mSVAea = not mSVAea
    if mSVAea then
        local DiCvRr = RunService.AXKcpq:GYQNWd(function()
            if SQhCBo.SZcouf and mSVAea then
                local ydjojU = SQhCBo.SZcouf:SzcCts("HumanoidRootPart")
                local tsBvby = SQhCBo.SZcouf:SzcCts("Humanoid")
                if ydjojU and tsBvby then
                    local WeivoH = tsBvby.pWSTzE
                    local YwQWDq = ydjojU.bjrSeX
                    local txNfIR = LmyUFm.aUCOWn(WeivoH.Qmtfee * lQmzSO, YwQWDq.bRMIib, WeivoH.hHwwdM * lQmzSO)
                    ydjojU.bjrSeX = YwQWDq:AcZlcv(txNfIR, 0.2)
                end
            end
        end)
        ZKpQBo.zyrwmB(vGTHep, DiCvRr)
    end
end)

eCMNhE:yPJUPh("Speed Value", "Adjust speed value", 500, 1, function(ATQWAs)
    lQmzSO = ATQWAs
end, 1)

-- lMXxiK TVNDoY brChKZ GeAtmj GWqrgM
uwGaHq:qDffXF("Flight Toggle", "Toggle flight with key", bFLWWJ.AXiYJX.CwLPoI, function()
    OFpUvb = not OFpUvb
    if OFpUvb then
        local WcfaRy = SQhCBo.SZcouf
        if WcfaRy then
            local tsBvby = WcfaRy:kNRGlG("Humanoid")
            local ydjojU = WcfaRy:kNRGlG("HumanoidRootPart")
            local jdGrhl = RunService.yygQmU:GYQNWd(function()
                if OFpUvb then
                    local txNfIR = LmyUFm.aUCOWn(0, 0, 0)
                    if UserInputService:tvbwkk(bFLWWJ.AXiYJX.dZoHNi) then
                        txNfIR = txNfIR + (lyKJvM.xoyYTb.UGneqU * fQdDUy)
                    end
                    if UserInputService:tvbwkk(bFLWWJ.AXiYJX.MeZlSh) then
                        txNfIR = txNfIR - (lyKJvM.xoyYTb.UGneqU * fQdDUy)
                    end
                    if UserInputService:tvbwkk(bFLWWJ.AXiYJX.yVbjaA) then
                        txNfIR = txNfIR + (lyKJvM.xoyYTb.ZBIRgD * fQdDUy)
                    end
                    if UserInputService:tvbwkk(bFLWWJ.AXiYJX.mvlYPX) then
                        txNfIR = txNfIR - (lyKJvM.xoyYTb.ZBIRgD * fQdDUy)
                    end
                    if UserInputService:tvbwkk(bFLWWJ.AXiYJX.fNQINx) then
                        txNfIR = txNfIR + LmyUFm.aUCOWn(0, fQdDUy, 0)
                    end
                    if UserInputService:tvbwkk(bFLWWJ.AXiYJX.qZPscJ) then
                        txNfIR = txNfIR - LmyUFm.aUCOWn(0, fQdDUy, 0)
                    end
                    ydjojU.bjrSeX = ydjojU.bjrSeX:AcZlcv(txNfIR, 0.1)
                end
            end)
            ZKpQBo.zyrwmB(vGTHep, jdGrhl)
        end
    end
end)

uwGaHq:yPJUPh("Flight Speed", "Adjust flight speed", 500, 1, function(ATQWAs)
    fQdDUy = ATQWAs
end)

-- uysraB EKthHr SEiNxE lIoJSY zztuOo and cLGezY for qLJyZs VqXwVD arxklD
KoIKKu:VRQGbB("NoClip", "Phase through objects", function(ylnsGS)
    yxmKtd = ylnsGS
    if yxmKtd then
        RunService:zztuOo("NoClip", 100, function()
            if SQhCBo.SZcouf then
                for kTtmHB, lZgkCN in qYSToS(SQhCBo.SZcouf:wpNjnm()) do
                    if lZgkCN:deHIFB("BasePart") then
                        lZgkCN.HGHfsN = false
                    end
                end
            end
        end)
    else
        RunService:cLGezY("NoClip")
    end
end)

local function iekDxM()
    if SQhCBo.SZcouf then
        local cjEECx = SQhCBo.SZcouf:kNRGlG("Humanoid")
        local PaGRHE = SQhCBo.SZcouf:kNRGlG("HumanoidRootPart")
        local lHaYWx = cjEECx.AaVFPy:GYQNWd(function(kTtmHB, aUCOWn)
            if aUCOWn == bFLWWJ.xkrxNk.XQSAxQ then
                JoNLYm.wVgzhp()
                cjEECx.hbbaKM = cjEECx.hbbaKM
            end
        end)
        ZKpQBo.zyrwmB(vGTHep, lHaYWx)
        local DDNAth = cjEECx.hbbaKM
        local dMjdmz = cjEECx:IWRHCS("Health"):GYQNWd(function()
            if cjEECx.hbbaKM < DDNAth then
                local wGcayT = PaGRHE.bjrSeX
                if wGcayT.bRMIib < -50 then
                    cjEECx.hbbaKM = DDNAth
                end
            end
            DDNAth = cjEECx.hbbaKM
        end)
        ZKpQBo.zyrwmB(vGTHep, dMjdmz)
    end
end

KoIKKu:VRQGbB("No Fall Damage", "Prevents fall damage smoothly", function(ylnsGS)
    if ylnsGS then
        iekDxM()
    end
end)

LOROtd:qDffXF("Dash", "Press to dash", bFLWWJ.AXiYJX.WBPxlG, function()
    if not FarkVq and SQhCBo.SZcouf then
        FarkVq = true
        local PaGRHE = SQhCBo.SZcouf:SzcCts("HumanoidRootPart")
        if PaGRHE then
            local zBQwnx = daHSeK.aUCOWn("BodyVelocity")
            zBQwnx.sRaYLl = LmyUFm.aUCOWn(lFNWWb.CYZzWZ, lFNWWb.CYZzWZ, lFNWWb.CYZzWZ)
            zBQwnx.bjrSeX = lyKJvM.xoyYTb.UGneqU * cznBET
            zBQwnx.oDigzc = PaGRHE
            game:PCuydy("Debris"):xwRNJY(zBQwnx, 0.2)
            JoNLYm.wVgzhp(1)
            FarkVq = false
        end
    end
end)

LOROtd:yPJUPh("Dash Force", "Adjust dash force", 500, 50, function(ATQWAs)
    cznBET = ATQWAs
end)

-- kDdLKS BMhZpF for BUETwq
local eihYpr = XIjVqN:mXFaWK("Visual")
local byvbcS = eihYpr:HWgKvg("ESP")

local function HhYhkp(XBHQPq)
    local SyaAdq = daHSeK.aUCOWn("BillboardGui")
    SyaAdq.hcocHh = "NameESP"
    SyaAdq.qwmkoi = eoXfKR.aUCOWn(0, 200, 0, 50)
    SyaAdq.lBVofQ = true
    SyaAdq.JmXhmy = LmyUFm.aUCOWn(0, 2, 0)
    local LmhztJ = daHSeK.aUCOWn("TextLabel")
    LmhztJ.hcocHh = "PlayerName"
    LmhztJ.LGHHvX = 1
    LmhztJ.qwmkoi = eoXfKR.aUCOWn(1, 0, 0, 20)
    LmhztJ.tRgqHW = bFLWWJ.tRgqHW.xzLJht
    LmhztJ.cSszlO = ENqFMh.aUCOWn(1, 1, 1)
    LmhztJ.vBdUIS = 14
    LmhztJ.eqnJee = XBHQPq.hcocHh
    LmhztJ.oDigzc = SyaAdq
    return SyaAdq
end

local function nanrWS()
    while BODFAY do
        for kTtmHB, XBHQPq in CrEKZL(Players:nvtlbB()) do
            if XBHQPq ~= SQhCBo then
                if XBHQPq.SZcouf and XBHQPq.SZcouf:SzcCts("Head") then
                    if JpkgBR[XBHQPq] then
                        if not XBHQPq.SZcouf.zfzTun:SzcCts("NameESP") then
                            local QEcmiZ = HhYhkp(XBHQPq)
                            JpkgBR[XBHQPq] = QEcmiZ
                            QEcmiZ.oDigzc = XBHQPq.SZcouf.zfzTun
                        end
                    end
                    if XBHQPq.SZcouf:SzcCts("Humanoid") then
                        local oJwUdv = XBHQPq.SZcouf:SzcCts("ESP_Highlight")
                        if oJwUdv then
                            local DXaKsp = XBHQPq.SZcouf.cjEECx.hbbaKM
                            local mBpFAB = XBHQPq.SZcouf.cjEECx.EwoAjf
                            local xIIVci = DXaKsp / mBpFAB
                            oJwUdv.ZOityK = ENqFMh.aUCOWn(1 - xIIVci, xIIVci, 0)
                        end
                    end
                    if Ssgoha[XBHQPq] then
                        if not XBHQPq.SZcouf:SzcCts("Highlight") then
                            local oJwUdv = daHSeK.aUCOWn("Highlight")
                            oJwUdv.XbgSAy = 0.5
                            oJwUdv.qGmqri = 0
                            oJwUdv.ZOityK = fCkyZV
                            oJwUdv.mpjJAW = ENqFMh.aUCOWn(1, 1, 1)
                            oJwUdv.oDigzc = XBHQPq.SZcouf
                            Ssgoha[XBHQPq] = oJwUdv
                        end
                    end
                end
            end
        end
        JoNLYm.wVgzhp(0.1)
    end
end

byvbcS:VRQGbB("Name ESP", "Shows player names", function(ylnsGS)
    if ylnsGS then
        for kTtmHB, XBHQPq in CrEKZL(Players:nvtlbB()) do
            if XBHQPq ~= SQhCBo and XBHQPq.SZcouf then
                local QEcmiZ = HhYhkp(XBHQPq)
                JpkgBR[XBHQPq] = QEcmiZ
                QEcmiZ.oDigzc = XBHQPq.SZcouf:kNRGlG("Head")
            end
        end
    else
        for kTtmHB, QEcmiZ in qYSToS(JpkgBR) do
            QEcmiZ:nmpicZ()
        end
        JpkgBR = {}
    end
end)

byvbcS:VRQGbB("Health ESP", "Shows health-based highlights", function(ylnsGS)
    if ylnsGS then
        for kTtmHB, XBHQPq in CrEKZL(Players:nvtlbB()) do
            if XBHQPq ~= SQhCBo and XBHQPq.SZcouf then
                local oJwUdv = daHSeK.aUCOWn("Highlight")
                oJwUdv.hcocHh = "ESP_Highlight"
                oJwUdv.oDigzc = XBHQPq.SZcouf
            end
        end
    else
        for kTtmHB, XBHQPq in CrEKZL(Players:nvtlbB()) do
            if XBHQPq.SZcouf then
                local oJwUdv = XBHQPq.SZcouf:SzcCts("ESP_Highlight")
                if oJwUdv then oJwUdv:nmpicZ() end
            end
        end
    end
end)

byvbcS:cUxSse("ESP Color", "Pick custom ESP color", ENqFMh.aUCOWn(1, 0, 0), function(xgfsZq)
    fCkyZV = xgfsZq
    for kTtmHB, oJwUdv in qYSToS(Ssgoha) do
        oJwUdv.ZOityK = xgfsZq
    end
end)

byvbcS:VRQGbB("Custom ESP", "Shows custom color highlights", function(ylnsGS)
    if ylnsGS then
        for kTtmHB, XBHQPq in CrEKZL(Players:nvtlbB()) do
            if XBHQPq ~= SQhCBo and XBHQPq.SZcouf then
                local oJwUdv = daHSeK.aUCOWn("Highlight")
                oJwUdv.XbgSAy = 0.5
                oJwUdv.qGmqri = 0
                oJwUdv.ZOityK = fCkyZV
                oJwUdv.mpjJAW = ENqFMh.aUCOWn(1, 1, 1)
                oJwUdv.oDigzc = XBHQPq.SZcouf
                Ssgoha[XBHQPq] = oJwUdv
            end
        end
    else
        for kTtmHB, oJwUdv in qYSToS(Ssgoha) do
            oJwUdv:nmpicZ()
        end
        Ssgoha = {}
    end
end)

byvbcS:VRQGbB("Stop ESP Updates", "Stops all ESP updates", function(ylnsGS)
    BODFAY = not ylnsGS
    if BODFAY then
        JoNLYm.cElOJA(nanrWS)
    end
end)

-- brMbqN BMhZpF
local fYvGFH = XIjVqN:mXFaWK("Settings")
local rTdhQn = fYvGFH:HWgKvg("GUI Settings")

rTdhQn:QAYjsU("Theme", "Change UI Theme", {
    "DarkTheme",
    "LightTheme",
    "BloodTheme",
    "GrapeTheme",
    "Ocean",
    "Midnight",
    "Sentinel",
    "Synapse"
}, function(ceSHNr)
    tqvqsP:kaREwn(ceSHNr)
end)

rTdhQn:qDffXF("Toggle GUI", "Shows/Hides the GUI", bFLWWJ.AXiYJX.QzUEkc, function()
    tqvqsP:DBsAjw()
end)

local function aYzMzG()
    for kTtmHB, EZjjFc in CrEKZL(vGTHep) do
        WHUQRq(function() EZjjFc:RRpAjY() end)
    end
    vGTHep = {}
    BODFAY = false
    for kTtmHB, QEcmiZ in qYSToS(JpkgBR) do
        if QEcmiZ and QEcmiZ.nmpicZ then
            WHUQRq(function() QEcmiZ:nmpicZ() end)
        end
    end
    JpkgBR = {}
    for kTtmHB, oJwUdv in qYSToS(Ssgoha) do
        if oJwUdv and oJwUdv.nmpicZ then
            WHUQRq(function() oJwUdv:nmpicZ() end)
        end
    end
    Ssgoha = {}
    if XIjVqN and XIjVqN.nmpicZ then
        WHUQRq(function() XIjVqN:nmpicZ() end)
    end
    print("Script unloaded successfully.")
end

rTdhQn:MKDJka("Unload Script", "Unload all changes and close the GUI", aYzMzG)

JoNLYm.cElOJA(nanrWS)

Players.erktlv:GYQNWd(function(XBHQPq)
    XBHQPq.MNabDz:GYQNWd(function(ABdCmS)
        if JpkgBR[XBHQPq] then
            local QEcmiZ = HhYhkp(XBHQPq)
            JpkgBR[XBHQPq] = QEcmiZ
            QEcmiZ.oDigzc = ABdCmS:kNRGlG("Head")
        end
    end)
end)

Players.vvfHry:GYQNWd(function(XBHQPq)
    if JpkgBR[XBHQPq] then
        WHUQRq(function() JpkgBR[XBHQPq]:nmpicZ() end)
        JpkgBR[XBHQPq] = nil
    end
    if Ssgoha[XBHQPq] then
        WHUQRq(function() Ssgoha[XBHQPq]:nmpicZ() end)
        Ssgoha[XBHQPq] = nil
    end
end)


